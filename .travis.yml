language: java
jdk:
  - openjdk11
  
dist: xenial

arch:
  - amd64
  - ppc64le

addons:
  apt:
    packages:
     - ant 1.10.7

env:
  - MAVEN_OPTS="-Xmx4096m -XX:MaxPermSize=128m" HADOOP_VERSION="2.4.1"

sudo: false

script:
    - mkdir -p build/debug
    - cd build/debug
    - cmake ../..
    - make -j8
    - cd build/debug
    - cmake -DNO_TESTS=1 ../..  
    - cd build/debug
    - ctest -j8
cache:
  directories:
    - $HOME/.m2
